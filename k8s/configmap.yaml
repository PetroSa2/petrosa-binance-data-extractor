---
apiVersion: v1
kind: ConfigMap
metadata:
  name: petrosa-binance-data-extractor-config
  namespace: petrosa-apps
  labels:
    app: binance-data-extractor
    component: data-extraction
    version: VERSION_PLACEHOLDER
data:
  # Binance API configuration - this service primarily works with futures data
  BINANCE_API_URL: "https://fapi.binance.com"
  BINANCE_FUTURES_API_URL: "https://fapi.binance.com"
  DEFAULT_SYMBOLS: "BTCUSDT,ETHUSDT,BNBUSDT"

  # Database configuration
  DB_ADAPTER: "mysql"
  DB_BATCH_SIZE: "1000"

  # Extraction settings
  MAX_WORKERS: "4"
  LOOKBACK_HOURS: "24"
  API_RATE_LIMIT: "1200"
  API_TIMEOUT: "30"

  # Health check settings
  HEALTH_CHECK_INTERVAL: "30"
  HEALTH_CHECK_TIMEOUT: "5"
  HEALTH_CHECK_PORT: "8080"

  # Performance monitoring
  ENABLE_METRICS: "true"
  METRICS_INTERVAL: "60"

  # Error handling
  MAX_RETRIES: "3"
  RETRY_BACKOFF_SECONDS: "1.0"
  RETRY_BACKOFF_MULTIPLIER: "2.0"

  # Additional settings referenced in deployment
  API_RATE_LIMIT_PER_MINUTE: "1200"
  REQUEST_DELAY_SECONDS: "0.1"
  MIN_BATCH_SIZE: "100"
  MAX_BATCH_SIZE: "5000"
